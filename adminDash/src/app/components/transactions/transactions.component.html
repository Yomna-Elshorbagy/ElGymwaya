@if(transactions){

<div class="container">
  <div class="table-responsive">
    <table class="table table-striped table-hover table-centered mb-0">
      <thead>
        <tr>
          <th scope="col">Client Name</th>
          <th scope="col">Order ID</th>
          <th scope="col">Amount</th>
          <th scope="col">Subscription Months</th>
          <th scope="col">Payment Status</th>
          <th scope="col">Delete</th>
        </tr>
      </thead>
      <tbody>
        @for (trans of transactions; track trans.id) {
        <tr>
          @if (trans.client_id){
            <td class="align-middle">{{ trans.client_id.full_name }}</td>
          } @else {
            <td class="align-middle">Deleted Client</td>
          }
          <td class="align-middle">{{ trans.order_id }}</td>
          <td class="align-middle">{{ trans.amount }}</td>
          <td class="align-middle">{{ trans.subscriptionMonths }}</td>
          <td class="align-middle">{{ trans.payment_status }}</td>
          <th class="align-middle" scope="col">
            <button
              class="btn btn-danger"
              (click)="deleteTransaction(trans._id)"
            >
              Delete
            </button>
          </th>

        </tr>
        }
      </tbody>
    </table>
  </div>

  <div class="container w-100 d-flex justify-content-center">
    <ul class="pagination">
      <li class="page-item" [class.disabled]="currentPage === 1">
        <a
          class="page-link"
          href="javascript:void(0)"
          (click)="changePage(currentPage - 1)"
        >
          Previous
        </a>
      </li>
      <li class="page-item" *ngFor="let page of generatePages(totalPages)">
        <a
          class="page-link"
          href="javascript:void(0)"
          (click)="changePage(page)"
          [class.active]="page === currentPage"
        >
          {{ page }}
        </a>
      </li>
      <li class="page-item" [class.disabled]="currentPage === totalPages">
        <a
          class="page-link"
          href="javascript:void(0)"
          (click)="changePage(currentPage + 1)"
        >
          Next
        </a>
      </li>
    </ul>
  </div>
</div>
}

